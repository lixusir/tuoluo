{"version":3,"sources":["assets/images/success.png","assets/images/fail.png","assets/images/icon_ct.png","views/home.jsx","callServer/config.js","callServer/ajax/api.js","callServer/ajax/hander.js","callServer/ajax/index.js","views/exam.jsx","views/result.jsx","index.js","router/index.jsx"],"names":["module","exports","props","id","mode","leftContent","type","onLeftClick","window","android","closeWin","webkit","messageHandlers","backView","postMessage","onClick","history","push","ajaxHost","location","protocol","host","hostname","common","getQuestions","submitAnswer","prompt","message","alert","reBackApp","goLogin","hander","data","status","result","Number","finish","list","timu","map","item","content","tm","parsing","tmjx","answers","a_w","b_w","c_w","d_w","isWin","port","axios","defaults","baseURL","config","token","cookie","getCookie","newData","formData","append","api","Promise","resolve","post","then","res","catch","err","console","warn","questionsGenerator","AgreeItem","index","length","end","first","questionGen","Map","currentAnswer","Questions","useState","listLength","setListLength","question","setQuestion","selected","setSelected","useEffect","a","async","ajax","onFinish","next","value","setType","prevQue","delete","answerList","entries","theAns","key","checked","String","onChange","text","set","dialog","title","json","forEach","submit","color","style","borderBottom","goBack","answer","replace","pathname","params","ty","reRender","SuccessPage","src","require","alt","className","FailPage","size","reBack","log","isSuccess","setIsSueess","fileList","setFileList","JSON","stringify","Main","ReactDOM","render","exact","path","component","Home","Exam","Result","document","getElementById"],"mappings":"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","file":"static/js/main.c1c30074.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/success.6b7c812f.png\";","module.exports = __webpack_public_path__ + \"static/media/fail.6fde4348.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAFdklEQVRoQ+2aXWwUVRTH/2e229KWjypCocZ2ptQZxAdDFF8UP6I8KL6pxEj6IkkTulPUSIwmGjUafVAE6e5iiBqjERM18SsxfkCigcSQiCYYKrsszCypIbaGirRC2505ZmZ3y1q7nTvb3e6W7k1fuvfMuf/fPed+zJ1LmGeF5hkvqsCXe8SrEa5G+DLrAd8p3YUbg8G24U5I/DCAmwi0ZLb6hMHnAPwEm/aNJxe+vxdHxv227Qu4p7VjDUvSRyC63m9DRbdnPka2van3dKLPj29h4DRs4CAIV/ppoKS2jLNkW+v9QAsBO2lcK5//JSeyFxl4jZg/GDMXnSwktfx2REbDKibaTMB2AAtcH8zHxsxFa0U1CAGH2rRHSMLbGZEXbeIN0VPxQ35FF8u+u129VWL6LgvNNrZEkrF3RPyLASvqfgLd5XYo8FLEiD0r4ryUNiFFe5GAZ9Ka+EDEiN8t0p4QsK6oQwA1ZVLourAZPy7ivJQ2uqyuBtFvGeBzESOe1udRBIE1zvoJjo807Ozvv+DluNT17phWhsey7YSNmBCLkJGuXAIe5tH6d03zYqmBRPzn6iob8B1AjSzLNSKCp7MxTTP1PZCazqbswCFZe4PAOoikmQKD2WZQOGLGHs3nq+zAuqI5W70ZRzcHMBU2YsGKBZ53EZ5xGvt0UPaU9ql3xuZVYIEurK7DU3VSdeNR3WldygvRnZbITsprSJZ90vK1DgvspCoeuICd1rQ7qYoHnncR9opIsevLPoaLDeTlb84Cdy9bs5AarU6A7yP3zJuXADTEwFFi+/NhjH841aHDnATubtc2E2MXAVfliygzfmeirVHj+Je5NnMOWJfVV0D0lFfqOvXs/Nm8PZKMv561n1PAIVnbSoToBCzjDIBdRPzNqD06EOD6FkmyNxJoGwhLs9BsWZuipxOfOP/rsmq5pyvMdtiMB0Q6riwvD/o1WgtqEAOwMANyIMijD+wyzb8mi+6W5RVEdV8QsC5dx4N0zu7oPZv4210GCd3MiE53FJTrszzAsvoyiJ5Ow3KCh2vWRgf7hvNFqGdFxzKuDxwFsMJ9xuYnclNbJLJZm/IAK5oTXdUVYdubw8kT+7xEh2TtMSLsdOwIONRrxNZ7PTNV/awDb29ubrzQ0HSeHN3Mlj0y1BQdHMwb3azobe3trTYHk+msxkjYjLnDwW+ZdeCule2ttQsywsEDYSPeLCo6d1amgLWgN5EYFX22bCkdunr1UqrlPzMCRv8wYo0fA5aX8K2trVcEAvVnM3bOS0edMyC8nptcP+sRdgToijoA0LL0eOTbeo34QS/hetu190OS3OUIzH1hM17QLYSyAIcU9T0Cdaa14+uIGbtnOuAHgcByRfsxuzQxeEfEiDsfxX2XsgB3t6vriOmwO3GlqZ8Pm/EX8qgnXVF3A6Rn6sft8dSaaP/JhG/a9AzvXXIni2J9LtUV7S0AWyZaZ/4UqdRz4f5Tv2Z/61HUm50P8ABtyFF5gm3roUgy8bO38v9bCAIX/4N4V0tLQ23dom8B3DJJ1hmABwCsBGh5bp2zn04vZxixYG3cYyZ+8AstBBwq0ZWHzubmxsX1TXuJ4Nz5ylvcFwfGmyDeQKCO9DAoDFoMuMSXWra1aXdaEh4HXKD07ZwMFAhfMds7IuaJwz2KeoMN2j/xKlkAtBDwdNeWgql/kkM1NRNXIvymWO5xbU9HRx3GsColYTEoMGQZsVN7gf/ctpsKWrJTt+8+ffKISNtCwI6jkl1MK+C4djI0A69GjNiTRQW+BF2Sq4e+j2tdaKbPQNxgW9a9e4od4WzvFf1yaQERFolkPhvhlJ5JI5X0bBW4kqJRCi3VCJeiVyvJZzXClRSNUmj5F5GAdmqWivpfAAAAAElFTkSuQmCC\"","import React from 'react'\r\nimport { NavBar, Icon, Button } from 'antd-mobile'\r\n\r\nexport default (props) => {\r\n    // 前往 考试 页面\r\n    const toExam = () => { props.history.push('/exam') }\r\n    // 返回 原生 页面\r\n    const reBack = () => {\r\n        window.android && window.android.closeWin()\r\n        window.webkit && window.webkit.messageHandlers.backView.postMessage('')\r\n    }\r\n    return (\r\n        <div id=\"home\">\r\n            <NavBar\r\n            mode=\"dark\"\r\n            leftContent={<Icon type=\"left\" />}\r\n            onLeftClick={ reBack }\r\n            >\r\n                考前必读\r\n            </NavBar>\r\n            <div id=\"letter\">\r\n                <h3>亲爱的神鸟世界养鸟师: </h3>\r\n                <p>\r\n                    欢迎来到新手学习考试,通过本次考试希望能帮助大家更直接有效地了解神鸟世界的玩法和生态,\r\n                    考试题目范围划分为2个篇章, 游戏篇（20题）、收益篇（20题）,由浅到深,必须完成一个篇章オ能到下一个篇章\r\n                </p>\r\n                <p>\r\n                    当某一天,您完全通过2个篇章后,恭喜你,你已经从新手玩家晋升为资深玩家了。\r\n                    与此同时,欢迎你组建自己的社群和团队。一起为神鸟世界生态建设做一份贡献。\r\n                </p>\r\n            </div>\r\n            <div id=\"rule\">\r\n                <h3>答题规则:</h3>\r\n                <p>1、一个篇章,需全部答对才能通过考试,并获得相应的彩蛋奖励</p>\r\n                <p>2、提交后,系統会自动提示你哪道题答错了,可以修改答案,再次提交</p>\r\n            </div>\r\n            <div id=\"start\">\r\n                <Button onClick={ toExam }>现在开始</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n} ","/* eslint-disable */\r\nexport default {\r\n    ajaxHost: process.env.NODE_ENV === 'development' ? '/api' : `${location.protocol}//${location.host}`,\r\n    // ajaxHost: 'http://6339.chac.xyz',\r\n    hostname: process.env.NODE_ENV === 'development' ? '6339.chac.xyz' : `${location.hostname}`,\r\n}","/**\r\n * 后端 请求, api 的 封装\r\n */\r\n\r\nlet common = '/app/index.php?i=96&c=entry&m=wx_shop&do=mobile&' // 公共字段\r\n\r\nexport default {\r\n    getQuestions: `${common}r=game.answer.answer`, // 获取题目\r\n    submitAnswer: `${common}r=game.answer.keepanswer`, // 提交答案\r\n}","// 错误提示\r\nfunction prompt (message) {\r\n    alert(message)\r\n    return false\r\n}\r\n\r\n// 返回 app\r\nfunction reBackApp () {\r\n    window.webkit && window.webkit.messageHandlers.goLogin.postMessage('')\r\n}\r\n\r\nconst hander = {\r\n    getQuestions (data) {\r\n        let { status, result } = data\r\n        // token 过期, 返回原生登录\r\n        if (Number(status) === -2) {\r\n            reBackApp()\r\n            return false\r\n        }\r\n        if ( Number(status) !== 1 && Number(status) !== -1) return prompt(result.message)\r\n        // 如果状态码为 -1\r\n        if ( Number(status) === -1 ) {\r\n            return {\r\n                finish: true\r\n            }\r\n        }\r\n        let list = result.timu.map( item => {\r\n            let { id, tm, tmjx, a_w, b_w, c_w, d_w } = item\r\n            return {\r\n                id,\r\n                content: tm,\r\n                parsing: tmjx,\r\n                answers: [a_w, b_w, c_w, d_w]\r\n            }\r\n        })\r\n        // let title = Number(result.timu[0].type) === 0 ? '游戏篇' : '收益篇'\r\n        return {\r\n            type: Number(result.timu[0].type),\r\n            list\r\n        }\r\n    },\r\n    submitAnswer (data) {\r\n        let { status, result } = data\r\n        // token 过期, 返回原生登录\r\n        if (Number(status) === -2) {\r\n            reBackApp()\r\n            return false\r\n        }\r\n        if ( Number(status) !== 1 && Number(status) !== 2) return prompt(result.message)\r\n        let isWin = Number(status) === 1\r\n        let list = !isWin && result.timu.map( item => {\r\n            let { id, tm, tmjx } = item\r\n            return {\r\n                id,\r\n                content: tm,\r\n                parsing: tmjx,\r\n            }\r\n        })\r\n        return {\r\n            isWin,\r\n            list\r\n        }\r\n    }\r\n}\r\n\r\nexport default function (port, data) {\r\n    // console.log(data)\r\n    if (typeof data !== 'object') {\r\n        alert('返回的数据不是JSON')\r\n        return false\r\n    }\r\n    return hander[port](data)\r\n}","// 引入 axios\r\nimport axios from 'axios'\r\nimport config from '../config'\r\n\r\n// 引入 api 对象\r\nimport api from './api'\r\n/**\r\n * 由于 公司的后端 其代码 大多沿用 垃圾系统的老旧垃圾代码, \r\n * 以至于 状态码 没有统一约定, 数据结构不明确等原因, \r\n * 决定 保留 hander 层 对数据 在前端进行统一筛选处理\r\n */\r\nimport hander from './hander'\r\n\r\n// 引入 formData 转换 函数\r\nimport { formData, cookie } from 'myuijs'\r\n\r\naxios.defaults.baseURL = config.ajaxHost // 默認全局域名\r\n\r\n/**\r\n * 后端 交互 模块\r\n *  port, 为用于 判断 何处调用 之 参数,\r\n *      api[port], 调用 api 对象 中, 封装 的 对应 接口\r\n *      detaDeal[port], 调用 对应接口 相关的 数据 处理 函数\r\n *  data, 为调用者 传递的 数据\r\n *  errCallback, 如果 在 ajax 請求失敗時, 執行某些函數, 則傳遞 此回調\r\n */\r\nexport default function (port, data = {}) {\r\n    // 將 數據 轉換 爲 後端 可 處理的 表單格式\r\n    let token = cookie.getCookie('token')\r\n    if (!token) {\r\n        alert('token 不存在')\r\n        window.webkit && window.webkit.messageHandlers.goLogin.postMessage('')\r\n        return false\r\n    }\r\n    let newData = formData(data)\r\n    // 存在 token ,则将 token 添加到数据中\r\n    newData.append('token', token)\r\n    // newData.append('token', 'b76cfd6f076043746f59be1316ebafc4')\r\n\r\n    // 接口不存在提示\r\n    if (!api[port]) return alert(`所传接口 \"${port}\" 不存在`)\r\n    \r\n    // 返回 promise 實例\r\n    return new Promise( resolve => {\r\n        axios.post(api[port], newData)\r\n        .then( res => {\r\n            // console.log(res)\r\n            // 将获取的数据, 传递给 hander 函数, 进行 筛选 处理, 返回 最终处理结构\r\n            let result = hander(port, res.data)\r\n            resolve(result)\r\n        })\r\n        .catch( err => {\r\n            console.warn(err)\r\n            // 對 错误, 進行統一處理\r\n            alert(err)\r\n        })\r\n    })\r\n}","import React, { useState, useEffect } from 'react'\r\nimport { NavBar, Icon, Checkbox, Button } from 'antd-mobile'\r\nimport ajax from '@/callServer/ajax/index'\r\nimport { dialog } from 'myuijs'\r\nconst AgreeItem = Checkbox.AgreeItem\r\n\r\n// 题目生成器\r\nfunction *questionsGenerator (list) {\r\n    // console.log(list)\r\n    let index = 0\r\n    while (true) {\r\n        // 如果 index 达到 list 最后一个元素, 返回 更改 按钮文本的 标识\r\n        if (index >= list.length - 1) {\r\n            list[index].end = true // 标记为 最后一题\r\n        }\r\n        if (index < 0) {\r\n            let result = yield { first: true }\r\n            index = result ? -1 : 1\r\n        } else {\r\n            list[index].index = index + 1 // 题目编号\r\n            let result = yield list[index]\r\n            if (result) {\r\n                index = index + result\r\n                index = index < 0 ? -1 : index\r\n            } else {\r\n                index++\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n// 题目组\r\nlet questionGen = null // 问题生成器\r\nlet answers = new Map() // 用于保存回答\r\nlet currentAnswer = '' // 用户当前题目的回答\r\n\r\nfunction Questions (props) {\r\n    const [ listLength, setListLength ] = useState(0)\r\n    const [ question, setQuestion ] = useState({})\r\n    const [ selected, setSelected ] = useState(null)\r\n    // 更改当前选中\r\n    let change = (text) => {\r\n        currentAnswer = text\r\n        setSelected(text)\r\n    }\r\n    // console.log(props)\r\n\r\n    useEffect(() => {\r\n        // console.log('effect')\r\n        // 请求 ajax\r\n        ;(async () => {\r\n            let res = await ajax('getQuestions')\r\n            if (!res) return false\r\n            // 如果已经是完成了\r\n            if (res.finish) {\r\n                props.onFinish()\r\n                return false\r\n            }\r\n            questionGen = questionsGenerator(res.list)\r\n            let result = questionGen.next().value\r\n            // 设置新的问题\r\n            setQuestion(result)\r\n            // 设置 问题的 数量\r\n            setListLength(res.list.length)\r\n            // 设置title\r\n            props.setType( res.type )\r\n        })()\r\n    }, [])\r\n\r\n    // 前往下一题\r\n    let toNextQuestion = async function () {\r\n        if (!currentAnswer) {\r\n            alert('请完成当前题目')\r\n            return false\r\n        }\r\n        // 将当前的答案保存到 map 中\r\n        // console.log(question)\r\n        // console.log(currentAnswer)\r\n        answers.set(question.id, currentAnswer)\r\n        // 如果 end 为 true ,则 为最后一题\r\n        if (question.end) {\r\n            // console.log('最后一题了')\r\n            let res = await dialog({\r\n                type: 'confirm',\r\n                title: '温馨提示',\r\n                message: '确认要提交吗?',\r\n            })\r\n            if ( res ) {\r\n                // 解析 Map 数据， 转换为 json\r\n                let list = [...answers.entries()]\r\n                let json = {}\r\n                list.forEach( item => {\r\n                    json[String(item[0])] = item[1]\r\n                })\r\n                // console.log(json)\r\n                props.submit(json)\r\n            }\r\n            return false\r\n        }\r\n        // 重置选择题的选择\r\n        setSelected('')\r\n        currentAnswer = ''\r\n        // 获取下一道题的数据, 更新视图\r\n        let result = questionGen.next().value\r\n        setQuestion(result)\r\n    }\r\n\r\n    // 上一题, 执行并回调点击返回键执行的操作\r\n    props.prevQue( (result) => {\r\n        // 如果 first 为 true, 则说明为 第一题\r\n        if (result.first) {\r\n            // console.log('最前一题, 返回上一页页面')\r\n            return true\r\n        }\r\n        // console.log(question)\r\n        // 移除对应数据\r\n        answers.delete(question.id)\r\n        // 重新渲染题目\r\n        setQuestion(result)\r\n        // 获取上一题的答案, 重新渲染选择视图\r\n        let answerList = [...answers.entries()]\r\n        let theAns = answerList[answerList.length - 1][1]\r\n        currentAnswer = theAns\r\n        setSelected(theAns)\r\n    })\r\n\r\n    // console.log(question)\r\n\r\n    return (\r\n        <div id={props.id}>\r\n            <div>{ question.index }/{ listLength }</div>\r\n            <div>\r\n                <p>单选题</p>\r\n                <p>{ question.content }</p>\r\n            </div>\r\n            <div>\r\n                {\r\n                    question.answers && question.answers.map( (item, index) => {\r\n                        return (\r\n                            <AgreeItem \r\n                            key={index}\r\n                            checked={selected === String(index)}\r\n                            onChange={ () => change(String(index)) }>\r\n                                { item }\r\n                            </AgreeItem>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div id=\"submit\">\r\n                <Button onClick={ toNextQuestion }>\r\n                    { question.end ? '提交' : '下一题' }\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default (props) => {\r\n    let prevQue = null // 返回上一道题\r\n\r\n    let [ type, setType] = useState('')\r\n\r\n    async function reback () {\r\n        let result = prevQue(questionGen.next(-1).value)\r\n        if (!result) return false\r\n        let res = await dialog({\r\n            type: 'confirm',\r\n            title: '温馨提示',\r\n            message: '确定要退出答题吗?',\r\n        })\r\n        // 如果用户确定了提交, 则要返回上一个页面了\r\n        res && props.history.goBack()\r\n    }\r\n\r\n    // 刷新视图, 重置样式\r\n    function resetType (ty) {\r\n        setType(ty)\r\n    }\r\n\r\n    // 提交\r\n    function submit (answer) {\r\n        // console.log(answer)\r\n        // console.log(type)\r\n        props.history.replace({\r\n            pathname: '/result',\r\n            params: { \r\n                title: type === 0 ? '游戏篇' : '收益篇',\r\n                answer,\r\n                type\r\n            } \r\n        })\r\n    }\r\n\r\n    return (\r\n        <div id=\"exam\">\r\n            <NavBar\r\n            mode=\"light\"\r\n            leftContent={<Icon color=\"#000\" type=\"left\" />}\r\n            style={ { borderBottom: '1px solid #efefef' } }\r\n            onLeftClick={ reback }\r\n            >\r\n                { type === 0 ? '游戏篇' : '收益篇' }\r\n            </NavBar>\r\n            <Questions \r\n            id=\"main\" \r\n            submit={ submit } \r\n            setType={ resetType } \r\n            prevQue={ (reRender) => { prevQue = reRender } }\r\n            onFinish={ () => { alert('你已通关所有关卡'); props.history.goBack() } }\r\n            />\r\n        </div>\r\n    )\r\n} ","import React, { useState, useEffect } from 'react'\r\nimport { NavBar, Icon, Button } from 'antd-mobile'\r\nimport ajax from '@/callServer/ajax/index'\r\n\r\n// 成功要展示的页面\r\nfunction SuccessPage (props) {\r\n    return (\r\n        <div id=\"success\">\r\n            <img src={require('@/assets/images/success.png')} alt=\"图片\"/>\r\n            <div className='text'>\r\n                <h2>恭喜你</h2>\r\n                <p>答题全部通过</p>\r\n            </div>\r\n            <Button onClick={ props.onClick }>知道了</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\n// 失败要展示的页面\r\nfunction FailPage (props) {\r\n    let { list } = props\r\n    return (\r\n        <div id=\"fail\">\r\n            <div id=\"top\">\r\n                <img src={ require('@/assets/images/fail.png') } alt=\"图片\"/>\r\n                <span>不要灰心, 再接再厉</span>\r\n            </div>\r\n            <div id=\"total\">\r\n                <p>\r\n                    <img src={require('@/assets/images/icon_ct.png')} alt=\"图标\"/>\r\n                </p>\r\n                <p>\r\n                    <span>共{ list.length }个错题</span>\r\n                    <span>补考错题, 还有机会拿彩蛋噢</span>\r\n                </p>\r\n                <p>\r\n                    <Button size=\"small\" onClick={ props.onClick }>补考错题</Button>\r\n                </p>\r\n            </div>\r\n            <div id=\"failList\">\r\n                <h3>错题列表</h3>\r\n                <div className=\"list\">\r\n                {\r\n                    list.map( (item, index) => {\r\n                        return (\r\n                            <div key={index}>\r\n                                <p>\r\n                                    <span>{ index }</span>\r\n                                </p>\r\n                                <p>\r\n                                    <span>{ item.content }</span>\r\n                                    <span>{ item.parsing }</span>\r\n                                </p>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// 返回 原生 页面\r\nconst reBack = () => {\r\n    console.log(233)\r\n    window.android && window.android.closeWin()\r\n    window.webkit && window.webkit.messageHandlers.backView.postMessage('')\r\n}\r\n\r\nexport default (props) => {\r\n    // 如果不存在 params, 则返回上一页\r\n    if (!props.location.params) {\r\n        props.history.goBack()\r\n        return false\r\n    }\r\n    const [ isSuccess, setIsSueess ] = useState('')\r\n    const [ fileList, setFileList ] = useState([])\r\n    // 提取上一级路由传递过来的数据\r\n    let { title, answer, type } = props.location.params\r\n    useEffect(() => {\r\n        ;( async () => {\r\n            let res = await ajax('submitAnswer', {\r\n                answer: JSON.stringify(answer),\r\n                type\r\n            })\r\n            if (!res) return false\r\n            // console.log(res)\r\n            let { isWin, list } = res\r\n            setIsSueess(isWin)\r\n            setFileList(list)\r\n        })()\r\n    }, [])\r\n\r\n    // 根据判断渲染\r\n    const Main = isSuccess ? <SuccessPage onClick={ reBack } /> : <FailPage list={fileList} onClick={ () => { props.history.replace('/exam') } } />\r\n\r\n    return (\r\n        <div id=\"result\">\r\n            <NavBar\r\n            mode=\"light\"\r\n            leftContent={<Icon color=\"#000\" type=\"left\" />}\r\n            onLeftClick={ () => { props.history.replace('/') } }\r\n            >\r\n                { title }\r\n            </NavBar>\r\n            <div id=\"main\">\r\n                { Main }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Router from './router/index.jsx'\nimport '@/assets/style/index.less'\n\nReactDOM.render(<Router />, document.getElementById('root'))","import React from 'react'\r\nimport { HashRouter, Route, Switch } from 'react-router-dom'\r\n\r\n// 引入组件\r\nimport Home from '@/views/home.jsx'\r\nimport Exam from '@/views/exam.jsx'\r\nimport Result from '@/views/result.jsx'\r\n\r\nexport default () => {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home}/>\r\n                <Route exact path=\"/exam\" component={Exam}/>\r\n                <Route exact path=\"/result\" component={Result}/>\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}"],"sourceRoot":""}